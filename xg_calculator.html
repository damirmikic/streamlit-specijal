<!DOCTYPE html>
<html lang="sr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>xG Kalkulator - Merkur Specijal</title>
    <link rel="icon" type="image/png" href="merkur.png">
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 font-sans">

    <div class="container mx-auto p-4 md:p-8 max-w-4xl">
        <header class="bg-white rounded-lg shadow-md p-6 mb-6">
            <div class="flex justify-between items-center">
                <div>
                    <h1 class="text-3xl font-bold text-gray-800">xG Kalkulator</h1>
                    <p class="text-gray-600 mt-2">Unesite očekivane golove (xG) da biste izračunali detaljnu statistiku.</p>
                </div>
                <img src="merkur.png" alt="Merkur Logo" class="h-16">
            </div>
             <nav class="mt-4 border-t pt-4">
                <a href="index.html" class="text-blue-600 hover:underline font-medium mr-4">Glavna Stranica</a>
                <a href="match-specials.html" class="text-blue-600 hover:underline font-medium">Meč Specijali</a>
            </nav>
        </header>

        <main class="bg-white rounded-lg shadow-md p-6">
            <div>
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-2xl font-bold text-gray-800">Unos xG Vrednosti</h2>
                    <button id="addXgRow" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300">
                        + Dodaj Red
                    </button>
                </div>
                <div id="xgInputContainer" class="space-y-3">
                    <div class="xg-row flex items-center gap-4 p-2 bg-gray-50 rounded-md">
                        <div class="flex-1">
                            <label class="block text-sm font-medium text-gray-700">Domaćin xG</label>
                            <input type="number" step="0.01" class="home-xg-input mt-1 block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" placeholder="npr. 1.5">
                        </div>
                        <div class="flex-1">
                            <label class="block text-sm font-medium text-gray-700">Gost xG</label>
                            <input type="number" step="0.01" class="away-xg-input mt-1 block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" placeholder="npr. 1.2">
                        </div>
                    </div>
                </div>
            </div>

            <div id="resultsSection" class="mt-8 pt-6 border-t border-gray-200">
                <h2 class="text-2xl font-bold text-indigo-800 mb-4">Izračunati Rezultati</h2>
                <div id="resultsContent" class="grid grid-cols-1 md:grid-cols-2 gap-6 bg-indigo-50 p-6 rounded-lg">
                    <div class="result-item">
                        <h3 class="font-semibold text-gray-700">Ukupan xG (Total xG):</h3>
                        <p id="totalXg" class="text-2xl font-bold text-indigo-600">0.00</p>
                    </div>
                    <div class="result-item">
                        <h3 class="font-semibold text-gray-700">xG Prvo Poluvreme (44%):</h3>
                        <p id="firstHalfXg" class="text-2xl font-bold text-indigo-600">0.00</p>
                    </div>
                    <div class="result-item">
                        <h3 class="font-semibold text-gray-700">xG Drugo Poluvreme (56%):</h3>
                        <p id="secondHalfXg" class="text-2xl font-bold text-indigo-600">0.00</p>
                    </div>
                    <div class="result-item">
                        <h3 class="font-semibold text-gray-700">xG do 10 min:</h3>
                        <p id="xg_10_min" class="text-2xl font-bold text-indigo-600">0.00</p>
                    </div>
                     <div class="result-item">
                        <h3 class="font-semibold text-gray-700">xG do 15 min:</h3>
                        <p id="xg_15_min" class="text-2xl font-bold text-indigo-600">0.00</p>
                    </div>
                     <div class="result-item">
                        <h3 class="font-semibold text-gray-700">xG do 30 min:</h3>
                        <p id="xg_30_min" class="text-2xl font-bold text-indigo-600">0.00</p>
                    </div>
                    <div class="result-item md:col-span-2">
                        <h3 class="font-semibold text-gray-700">xG od 15 do 45 min:</h3>
                        <p id="xg_15_45_min" class="text-2xl font-bold text-indigo-600">0.00</p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const xgInputContainer = document.getElementById('xgInputContainer');
            const addXgRowButton = document.getElementById('addXgRow');

            // Result elements
            const totalXgEl = document.getElementById('totalXg');
            const firstHalfXgEl = document.getElementById('firstHalfXg');
            const secondHalfXgEl = document.getElementById('secondHalfXg');
            const xg_10_min_El = document.getElementById('xg_10_min');
            const xg_15_min_El = document.getElementById('xg_15_min');
            const xg_30_min_El = document.getElementById('xg_30_min');
            const xg_15_45_min_El = document.getElementById('xg_15_45_min');

            const createXgRow = () => {
                const row = document.createElement('div');
                row.className = 'xg-row flex items-center gap-4 p-2 bg-gray-50 rounded-md';
                row.innerHTML = `
                    <div class="flex-1">
                        <label class="block text-sm font-medium text-gray-700">Domaćin xG</label>
                        <input type="number" step="0.01" class="home-xg-input mt-1 block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" placeholder="npr. 1.5">
                    </div>
                    <div class="flex-1">
                        <label class="block text-sm font-medium text-gray-700">Gost xG</label>
                        <input type="number" step="0.01" class="away-xg-input mt-1 block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" placeholder="npr. 1.2">
                    </div>
                     <button class="remove-xg-row bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-3 rounded-lg self-end">-</button>
                `;
                return row;
            };
            
            const calculateResults = () => {
                const allRows = document.querySelectorAll('.xg-row');
                let totalHomeXg = 0;
                let totalAwayXg = 0;

                allRows.forEach(row => {
                    const homeInput = row.querySelector('.home-xg-input').value;
                    const awayInput = row.querySelector('.away-xg-input').value;
                    totalHomeXg += parseFloat(homeInput) || 0;
                    totalAwayXg += parseFloat(awayInput) || 0;
                });
                
                const totalXg = totalHomeXg + totalAwayXg;
                const firstHalfXg = totalXg * 0.44;
                const secondHalfXg = totalXg * 0.56;
                const xg_per_minute_fh = firstHalfXg / 45;

                // Calculations
                const xg_10_min = xg_per_minute_fh * 10;
                const xg_15_min = xg_per_minute_fh * 15;
                const xg_30_min = xg_per_minute_fh * 30;
                const xg_15_45_min = xg_per_minute_fh * 30; // 45 - 15 = 30 minutes

                // Display results
                totalXgEl.textContent = totalXg.toFixed(2);
                firstHalfXgEl.textContent = firstHalfXg.toFixed(2);
                secondHalfXgEl.textContent = secondHalfXg.toFixed(2);
                xg_10_min_El.textContent = xg_10_min.toFixed(2);
                xg_15_min_El.textContent = xg_15_min.toFixed(2);
                xg_30_min_El.textContent = xg_30_min.toFixed(2);
                xg_15_45_min_El.textContent = xg_15_45_min.toFixed(2);
            };

            addXgRowButton.addEventListener('click', () => {
                const newRow = createXgRow();
                xgInputContainer.appendChild(newRow);
            });

            xgInputContainer.addEventListener('input', calculateResults);
            
            xgInputContainer.addEventListener('click', (e) => {
                if(e.target.classList.contains('remove-xg-row')) {
                    // Do not remove the last row
                    if (document.querySelectorAll('.xg-row').length > 1) {
                         e.target.parentElement.remove();
                         calculateResults();
                    }
                }
            });

            // Initial calculation
            calculateResults();
        });
    </script>
</body>
</html>
